name: Keep All Spaces Alive
on:
  schedule:
    # Run once a day at midnight UTC to safely stay under the 48h limit
    - cron: "0 0 * * *" 
  workflow_dispatch: # Allows you to run it manually to test

jobs:
  ping_spaces:
    runs-on: ubuntu-latest
    steps:
      - name: Wake up Spaces
        run: |
          urls=(
            "https://huggingface.co/spaces/kacapower/blogger-source-downloader"
            "https://huggingface.co/spaces/kacapower/Blogger-Toolkit"
            "https://huggingface.co/spaces/kacapower/repo-cloner-tool"
            "https://huggingface.co/spaces/kacapower/backend-filehandler"
            "https://huggingface.co/spaces/kacapower/videostream"
          )

          for url in "${urls[@]}"; do
            echo "Pinging $url..."
            # -s hides progress bar, -o discards body, -w prints status code
            status=$(curl -s -o /dev/null -w "%{http_code}" "$url")
            echo "Response Status: $status"
            
            # CRITICAL: Sleep for 10 seconds between requests
            # This prevents Hugging Face from blocking you for "spamming"
            sleep 10
          done
